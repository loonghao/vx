[tools]
cmake = "latest"
just = "latest"
prek = "latest"
python = "3.11"
rust = "1.93.1"
uv = "latest"

[tools.pwsh]
version = "7.4.13"
os = ["windows"]

[settings]
auto_install = true
cache_duration = "7d"

[scripts]
benchmark-run = "just benchmark-run"
benchmark-run-ci = "just benchmark-run-ci"
build = "cargo build"
build-fast = "just build-fast"
build-release = "cargo build --release"
build-release-target = "just build-release-target"
check = "cargo check --workspace --all-targets"
check-inline-tests = "just check-inline-tests"
ci-docs = "cargo doc --all-features --no-deps --document-private-items"
ci-quality = "echo 'Running CI quality checks...'"
ci-test-full = "cargo test --workspace"
ci-test-targeted = "cargo test -p vx-provider-* -p vx-cli -p vx-extension -p vx-migration -p vx-resolver -p vx-runtime"
clean = "just clean"
clippy = "cargo clippy --workspace --all-targets -- -D warnings"
coverage-ci = "just coverage-ci"
cross-build = "just cross-build"
default = "just default"
doc = "cargo doc"
docs-build = "just docs-build"
docs-dev = "just docs-dev"
docs-install = "just docs-install"
docs-preview = "just docs-preview"
fmt = "cargo fmt --all"
fmt-check = "cargo fmt --all -- --check"
format = "cargo fmt"
format-check = "just format-check"
hooks-install = "prek install"
hooks-run = "prek run --all-files"
hooks-update = "prek auto-update"
install = "just install"
just = "just {{args}}"
lint = "cargo clippy --workspace --all-targets -- -D warnings"
nox = "uv run nox {{args}}"
nox-test = "uv run nox -s tests"
quick = "just quick"
release = "cargo build --release"
security-audit-ci = "just security-audit-ci"
test = "cargo test --workspace"
test-all = "cargo test --workspace --all-targets"
test-ci-quick = "just test-ci-quick"
test-core = "cargo test -p vx-provider-* -p vx-cli -p vx-extension -p vx-migration -p vx-resolver -p vx-runtime"
test-doc = "cargo test --workspace --doc"
test-integration = "cargo test --workspace --test '*'"
test-lib = "cargo test --workspace --lib"
test-pkgs = "cargo test {{args}}"
test-providers = "just test-providers"
test-providers-json = "just test-providers-json"
test-providers-verbose = "just test-providers-verbose"
test-python = "cargo test {{args}}"
test-runtime = "cargo test {{args}}"
test-runtimes = "just test-runtimes"
test-verbose = "cargo test --workspace -- --nocapture"
tox = "uv run tox {{args}}"
validate-version-scripts = "just validate-version-scripts"
video-build = "just video-build"
video-build-platform = "just video-build-platform"
video-clean = "just video-clean"
video-help = "just video-help"
video-quick = "just video-quick"
video-rebuild = "just video-rebuild"
video-render-scene = "just video-render-scene"
video-setup = "just video-setup"
video-start = "just video-start"
video-upgrade = "just video-upgrade"
