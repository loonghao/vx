# 架构

vx 的内部架构概述。

## 核心组件

### 运行时管理器

负责：

- 工具版本管理
- 安装和卸载
- 版本解析

### 环境管理器

负责：

- 环境创建和删除
- 环境切换
- PATH 管理

### 配置管理器

负责：

- 读取和解析配置
- 配置合并
- 默认值处理

### 提供者系统

每个工具有对应的提供者：

- 版本发现
- 下载和安装
- 平台适配

## 目录结构

```
~/.local/share/vx/
├── store/           # 已安装的工具版本
│   ├── node/
│   │   ├── 18.19.0/
│   │   └── 20.10.0/
│   └── go/
│       └── 1.21.5/
├── envs/            # 环境
│   ├── default/
│   └── my-project/
└── cache/           # 缓存
```

## 执行流程

1. 解析命令和参数
2. 确定目标工具和版本
3. 检查是否已安装
4. 如果需要，安装工具
5. 设置环境变量
6. 执行工具

## 参见

- [贡献指南](/zh/advanced/contributing) - 如何贡献代码
