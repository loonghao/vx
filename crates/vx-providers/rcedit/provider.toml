# rcedit Provider Manifest
# This file defines the metadata, runtimes, and dependency constraints for rcedit.

[provider]
name = "rcedit"
description = "Command-line tool to edit resources of Windows executables"
homepage = "https://github.com/electron/rcedit"
repository = "https://github.com/electron/rcedit"
ecosystem = "devtools"
license = "MIT"

# rcedit is Windows-only
[provider.platforms]
os = ["windows"]

# rcedit
[[runtimes]]
name = "rcedit"
description = "Windows resource editor"
executable = "rcedit"
aliases = ["rcedit-x64", "rcedit-x86"]

[runtimes.versions]
source = "github-releases"
owner = "electron"
repo = "rcedit"
strip_v_prefix = true

# RFC 0018: Detection configuration
# RFC 0018: Detection configuration
# rcedit doesn't have a --version flag, use -h to verify it's working
# The version is determined from the installed version, not from the executable output
[runtimes.detection]
command = "{executable} -h"
# Match the help output to verify it's rcedit
pattern = "rcedit"
# rcedit -h returns exit code 0
exit_codes = [0]

# RFC 0019: Executable Layout Configuration
# rcedit downloads are single executable files
[runtimes.layout]
download_type = "binary"

[runtimes.layout.binary."windows-x86_64"]
source_name = "rcedit-x64.exe"
target_name = "rcedit.exe"
target_dir = "bin"

[runtimes.layout.binary."windows-x86"]
source_name = "rcedit-x86.exe"
target_name = "rcedit.exe"
target_dir = "bin"

[runtimes.platforms.windows]
executable_extensions = [".exe"]
